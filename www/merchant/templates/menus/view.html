<div class='col-xs-12 col-sm-10 col-sm-offset-1' style='min-height:100vh;padding-bottom:50px;'>
    <div class='well well-lg'>
        <form class='form-horizontal'>
            <fieldset>
                <legend>Menu Basics</legend>
                <div class='form-group' ng-class='{"has-error": formFailure && !menu.menu_type}'>
                    <label for='menu_type' class='col-md-2 control-label'>Menu Type <span class='glyphicon glyphicon-asterisk glyphicon-sm'>
                    </span></label>
                    <div class='col-md-8'>
                        <input type='text' disabled ng-model='menu.menu_type' typeahead='mType for mType in menu_types | filter:$viewValue | limitTo: 8' class='form-control'>
                    </div>
                </div>
                <div class='form-group' ng-class='{"has-error": formFailure && !menu.outlet}'>
                    <label for='outlet' class='col-md-2 control-label'>Outlet</label>
                    <div class='col-md-8'>
                        <select ui-select ng-model='menu.outlet' data-placeholder='Choose an outlet' class='form-control' disabled>
                            <option value='' ng-if='!menu.outlet'>Choose an outlet</option>
                            <option value='{{outlet._id}}' ng-repeat='outlet in outlets'>{{outlet.basics.name}}, {{outlet.contact.location.locality_1[0]}} {{outlet.contact.location.locality_1[0]?', ':''}} {{outlet.contact.location.locality_2[0]}}</option>
                        </select>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
    <div class='well well-lg'>
        <h3>Menu Categories</h3>
        <div class='container-fluid'>
            <div class='col-sm-3'>
                <div class='row'>
                    <div class='col-sm-12'>
                        <ul class='list-group'>
                            <a type='button' class='list-group-item' ng-class='{active: $index===current_category}'} ng-repeat='menu_category in menu.menu_categories' ng-click='showCategory($index)'>{{menu_category.category_name}}
                                <i class='fa fa-chevron-right pull-right'></i></a>
                        </ul>
                    </div>
                </div>
            </div>
            <div class='col-sm-6'>
                <div class='row'>
                    <div class='col-xs-12' ng-repeat='menu_category in menu.menu_categories' ng-if='current_category === $index'>
                        <div class='col-xs-12'>
                            <legend>{{menu_category.category_name}}</legend>
                        </div>
                        <div class='panel panel-default' ng-repeat='sub_category in menu_category.sub_categories'>
                            <div class='panel-heading'>
                                <h3><span ng-if='menu_category.sub_categories.length!==1'>{{sub_category.sub_category_name}}</span></h3>
                            </div>
                            <div class='panel-body'>
                                <div class='col-xs-12'>
                                    <div class='row'>
                                        <div class='alert alert-warning' ng-if='sub_category.items.length===0'>No items added yet</div>
                                        <ul class='list-group'>
                                            <li class='list-group-item' ng-repeat='item in sub_category.items' ng-click='showItem(item)' style='cursor:pointer;'>
                                                <h4 class='list-group-item-heading'>{{item.item_name}}</h4>
                                                <p class='list-group-item-text'>Base Cost: <i class='fa fa-inr'></i>{{item.item_cost}}.</p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class='col-sm-3'>
                <div class='row'>
                    <div class='panel panel-primary' ng-if='visible_item.item_name'>
                        <div class='panel-heading'>
                            {{visible_item.item_name}} <i class='fa fa-inr'></i>{{visible_item.item_cost}}
                        </div>
                        <div class='panel-body'>
                            <label>{{visible_item.option_title}}</label>
                            <div ng-repeat='option in visible_item.options'>#{{$index + 1}}. {{option.option_value}} <i class='fa fa-inr'></i>{{option.option_cost}}
                                <div class='col-xs-12'>
                                    <div ng-repeat='sub_option in option.sub_options'>Sub Variance Group: {{sub_option.sub_option_title}}
                                        <div ng-repeat='sub_option_obj in sub_option.sub_option_set'>
                                            <p>{{sub_option_obj.sub_option_value}} <i class='fa fa-inr'></i>{{sub_option_obj.sub_option_cost}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>