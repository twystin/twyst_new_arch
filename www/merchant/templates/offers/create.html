<div class='col-xs-12 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2' style='min-height:100vh;padding-bottom:50px;'>
  <wizard on-finish='createOffer()'>
    <wz-step title='Offer Basics' canexit='validateStep1'>
      <div class='well well-lg'>
        <form class='form-horizontal'>
          <fieldset>
            <legend>Offer Basics</legend>
            <div class='form-group'>
              <label for='offer_type' class='col-md-2 control-label'>Offer Type <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <select class='form-control' ng-model='offer.offer_type'>
                  <option value='' ng-if='!offer.offer_type'>Choose an offer type</option>
                  <option value='checkin'>Checkin Offer</option>
                  <option value='offer'>Offer</optoin>
                  <option value='deal'>Deal</option>
                  <option value='bank_deal'>Bank Deal</option>
                </select>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
      <div class='well well-lg' ng-if='offer.offer_type=="checkin"'>
        <form class='form-horizontal'>
          <fieldset>
            <legend>Offer Rules</legend>
            <div class='form-group'>
              <label for='criteria' class='col-md-2 control-label'>Criteria <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6 col-lg-4'>
                <select class='form-control' ng-model='offer.rule.event_match'>
                  <option value='' ng-if='!offer.rule.event_match'>--- Choose a Criteria ---</option>
                  <option value='every'>On every</option>
                  <option value='after'>After</option>
                  <option value='only'>On only</option>
                </select>
              </div>
            </div>
            <div class='form-group' ng-if='offer.rule.event_match'>
              <div class='col-md-10 col-md-offset-2 col-lg-8'>
                <div class='col-md-12'>Reward will be unlocked on</div>
                <div class='row' ng-if='offer.rule.event_match=="every"'>
                  <div class='col-md-12'>
                    <label class='col-md-3 control-label'>Every <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <div class='input-group'>
                        <input type='number' class='form-control text-right' ng-model='offer.rule.event_count' placeholder='Eg. 1, 2, 3...' min='1' steps='1' max='{{(offer.rule.event_end-offer.rule.event_start) || 1}}'>
                        <div class='input-group-addon'>checkin(s)</div>
                      </div>
                    </div>
                  </div>
                  <div class='col-md-12'>
                    <label class='col-md-3 control-label'>Starting from <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <div class='input-group'>
                        <input type='number' class='form-control text-right' ng-model='offer.rule.event_start' placeholder='Eg. 1, 2, 3...' min='0' steps='1'>
                        <div class='input-group-addon'>
                          <span ng-if='offer.rule.event_start==1'>st checkin</span>
                          <span ng-if='offer.rule.event_start==2'>nd checkin</span>
                          <span ng-if='offer.rule.event_start==3'>rd checkin</span>
                          <span ng-if='offer.rule.event_start>3 || !offer.rule.event_start'>th checkin</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class='col-md-12'>
                    <label class='col-md-3 control-label'>Upto <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <div class='input-group'>
                        <input type='number' class='form-control text-right' ng-model='offer.rule.event_end' placeholder='Eg. 1, 2, 3...' min='{{(offer.rule.event_start + 1) || 1}}'>
                        <div class='input-group-addon'>
                          <span ng-if='offer.rule.event_end==1'>st checkin</span>
                          <span ng-if='offer.rule.event_end==2'>nd checkin</span>
                          <span ng-if='offer.rule.event_end==3'>rd checkin</span>
                          <span ng-if='offer.rule.event_end>3 || !offer.rule.event_end'>th checkin</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class='row' ng-if='offer.rule.event_match=="after"'>
                  <div class='col-md-12 text-center'>
                    <h4>Every checkin!</h4>
                  </div>
                  <div class='col-md-12'>
                    <label class='col-md-3 control-label'>Starting from <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <div class='input-group'>
                        <input type='number' class='form-control' ng-model='offer.rule.event_start' placeholder='Eg. 1, 2, 3...' min='0' steps='1'>
                        <div class='input-group-addon'>
                          <span ng-if='offer.rule.event_start==1'>st checkin</span>
                          <span ng-if='offer.rule.event_start==2'>nd checkin</span>
                          <span ng-if='offer.rule.event_start==3'>rd checkin</span>
                          <span ng-if='offer.rule.event_start>3 || !offer.rule.event_start'>th checkin</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class='col-md-12'>
                    <label class='col-md-3 control-label'>Upto <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <div class='input-group'>
                        <input type='number' class='form-control' ng-model='offer.rule.event_end' placeholder='Eg. 1, 2, 3...' min='{{offer.rule.event_start + 1}}'>
                        <div class='input-group-addon'>
                          <span ng-if='offer.rule.event_end==1'>st checkin</span>
                          <span ng-if='offer.rule.event_end==2'>nd checkin</span>
                          <span ng-if='offer.rule.event_end==3'>rd checkin</span>
                          <span ng-if='offer.rule.event_end>3 || !offer.rule.event_end'>th checkin</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class='row' ng-if='offer.rule.event_match=="only"'>
                  <div class='col-md-12'>
                    <label class='col-md-3 control-label'>On the <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <div class='input-group'>
                        <input type='number' class='form-control' ng-model='offer.rule.event_count' placeholder='Eg. 1, 2, 3...' min='1'>
                        <div class='input-group-addon'>
                          <span ng-if='offer.rule.event_count==1'>st checkin</span>
                          <span ng-if='offer.rule.event_count==2'>nd checkin</span>
                          <span ng-if='offer.rule.event_count==3'>rd checkin</span>
                          <span ng-if='offer.rule.event_count>3 || !offer.rule.event_count'>th checkin</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
      <div class='well well-lg'>
        <form class='form-horizontal'>
          <fieldset>
            <legend>Reward Details</legend>
            <div class='form-group'>
              <label class='col-md-2 control-label'>Reward Type <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <select class='form-control' ng-model='offer.actions.reward.reward_meta.reward_type' ng-change='print()'>
                  <option value='' ng-if='!offer.actions.reward.reward_meta.reward_type'>Choose a Reward Type</option>
                  <option value='buyonegetone'>Buy One Get One</option>
                  <option value='discount'>Discount</option>
                  <option value='flatoff'>Flat Off</option>
                  <option value='free'>Free</option>
                  <option value='happyhours'>Happy Hours</option>
                  <option value='reduced'>Reduced Price</option>
                  <option value='custom'>Custom</option>
                  <option value='unlimited'>Unlimited</option>
                  <option value='onlyhappyhours'>Only Happy Hours</option>
                  <option value='combo'>Combo</option>
                  <option value='buffet'>Buffet</option>
                </select>
              </div>
            </div>
            <div class='form-group' ng-if='offer.actions.reward.reward_meta.reward_type'>
              <label class='col-md-2 control-label'>Reward Specifics</label>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="buyonegetone"'>
                <div class='form-group'>
                  <label class='col-md-3'>BOGO Item <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' ng-model='offer.actions.reward.reward_meta.bogo' class='form-control' placeholder='provide item name here'>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="discount"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Percent Discount <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <select class='form-control' ng-model='offer.actions.reward.reward_meta.percent'>
                        <option value='' ng-if='!offer.actions.reward.reward_meta.percent'>Choose a percentage value</option>
                        <option value='5'>5</option>
                        <option value='10'>10</option>
                        <option value='15'>15</option>
                        <option value='20'>20</option>
                        <option value='25'>25</option>
                        <option value='30'>30</option>
                        <option value='35'>35</option>
                        <option value='40'>40</option>
                        <option value='45'>45</option>
                        <option value='50'>50</option>
                        <option value='55'>55</option>
                        <option value='60'>60</option>
                        <option value='65'>65</option>
                        <option value='70'>70</option>
                        <option value='75'>75</option>
                        <option value='80'>80</option>
                        <option value='85'>85</option>
                        <option value='90'>90</option>
                        <option value='95'>95</option>
                      </select>
                      <div class='input-group-addon'> % </div>
                    </div>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Max Discount <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>
                      <input type='number' ng-model='offer.actions.reward.reward_meta.max' class='form-control' placeholder='maximum discount amount'>
                    </div>
                  </div> 
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="flatoff"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Amount Off <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>
                      <input type='number' ng-model='offer.actions.reward.reward_meta.off' class='form-control'>
                    </div>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Minimum Spend <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>
                      <input type='number' ng-model='offer.actions.reward.reward_meta.spend' class='form-control'>
                    </div>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="free"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Free Item <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' ng-model='offer.actions.reward.reward_meta.title' class='form-control'>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Conditions <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' ng-model='offer.actions.reward.reward_meta._with' class='form-control' placeholder='Eg. min order of Rs.X or with purchase of Y'>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="happyhours"'>
                <label class='col-md-3 control-label'>Extention By <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                <div class='col-md-6'>
                  <div class='input-group'>
                    <input type='number' ng-model='offer.actions.reward.reward_meta.extension' class='form-control'>
                    <div class='input-group-addon'>hrs.</div>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="reduced"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Item <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' ng-model='offer.actions.reward.reward_meta.what' class='form-control'>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Worth <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>                      
                      <input type='number' ng-model='offer.actions.reward.reward_meta.worth' class='form-control'>
                    </div>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>For <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>
                      <input type='number' ng-model='offer.actions.reward.reward_meta.for_what' class='form-control'>
                    </div>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="custom"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Custom Text <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <textarea class='form-control' ng-model='offer.actions.reward.reward_meta.title' rows='5'></textarea>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="unlimited"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Item <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' ng-model='offer.actions.reward.reward_meta.item' class='form-control'>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>For <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>
                      <input type='text' ng-model='offer.actions.reward.reward_meta.conditions' class='form-control'>
                    </div>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="onlyhappyhours"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Deal <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' class='form-control' ng-model='offer.actions.reward.reward_meta.title'>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Conditions <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' class='form-control'  ng-model='offer.actions.reward.reward_meta.conditions'>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="combo"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Items <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' class='form-control' ng-model='offer.actions.reward.reward_meta.items'>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>For <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <input type='text' class='form-control' ng-model='offer.actions.reward.reward_meta._for'>
                  </div>
                </div>
              </div>
              <div class='col-md-10' ng-if='offer.actions.reward.reward_meta.reward_type=="buffet"'>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Deal <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <textarea rows='3' ng-model='offer.actions.reward.reward_meta.title' class='form-control' ng-change='updateBuffetOffer(offer)'></textarea>
                  </div>
                </div>
                <div class='form-group'>
                  <label class='col-md-3 control-label'>Cost <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                  <div class='col-md-6'>
                    <div class='input-group'>
                      <div class='input-group-addon'>Rs.</div>
                      <input type='number' ng-model='offer.actions.reward.reward_meta.cost' class='form-control' ng-change='updateBuffetOffer(offer)'>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class='form-group' style='padding-top:30px'>
              <label class='col-md-2 control-label'>Reward Info</label>
              <div class='col-md-10'>
                <div class='alert alert-warning' ng-if='!offer.actions.reward.reward_meta.reward_type'>Choose a valid reward type first</div>
                <div class='alert alert-warning' ng-if='(offer.actions.reward.reward_meta.reward_type=="buyonegetone" && !offer.actions.reward.reward_meta.bogo) || (offer.actions.reward.reward_meta.reward_type=="discount" && !(offer.actions.reward.reward_meta.percent && offer.actions.reward.reward_meta.max)) || (offer.actions.reward.reward_meta.reward_type=="flatoff" && !(offer.actions.reward.reward_meta.off && offer.actions.reward.reward_meta.spend)) || (offer.actions.reward.reward_meta.reward_type=="free" && !(offer.actions.reward.reward_meta.title && offer.actions.reward.reward_meta._with)) || (offer.actions.reward.reward_meta.reward_type=="happyhours" && !offer.actions.reward.reward_meta.extension) || (offer.actions.reward.reward_meta.reward_type=="reduced" && !(offer.actions.reward.reward_meta.what && offer.actions.reward.reward_meta.worth && offer.actions.reward.reward_meta.for_what)) || (offer.actions.reward.reward_meta.reward_type=="unlimited" && !(offer.actions.reward.reward_meta.item && offer.actions.reward.reward_meta.conditions)) || (offer.actions.reward.reward_meta.reward_type=="onlyhappyhours" && !(offer.actions.reward.reward_meta.title && offer.actions.reward.reward_meta.conditions)) || (offer.actions.reward.reward_meta.reward_type=="combo" && !(offer.actions.reward.reward_meta.items && offer.actions.reward.reward_meta._for)) || (offer.actions.reward.reward_meta.reward_type=="buffet" && !(offer.actions.reward.reward_meta.title && offer.actions.reward.reward_meta.cost))'>Input reward specifics to edit details</div>
                <div class='form-group' ng-if='(offer.actions.reward.reward_meta.reward_type=="buyonegetone" && offer.actions.reward.reward_meta.bogo) || (offer.actions.reward.reward_meta.reward_type=="discount" && (offer.actions.reward.reward_meta.percent && offer.actions.reward.reward_meta.max)) || (offer.actions.reward.reward_meta.reward_type=="flatoff" && (offer.actions.reward.reward_meta.off && offer.actions.reward.reward_meta.spend)) || (offer.actions.reward.reward_meta.reward_type=="free" && (offer.actions.reward.reward_meta.title && offer.actions.reward.reward_meta._with)) || (offer.actions.reward.reward_meta.reward_type=="happyhours" && (offer.actions.reward.reward_meta.extension)) || (offer.actions.reward.reward_meta.reward_type=="reduced" && (offer.actions.reward.reward_meta.what && offer.actions.reward.reward_meta.worth && offer.actions.reward.reward_meta.for_what)) || offer.actions.reward.reward_meta.reward_type=="custom" || (offer.actions.reward.reward_meta.reward_type=="unlimited" && (offer.actions.reward.reward_meta.item && offer.actions.reward.reward_meta.conditions)) || (offer.actions.reward.reward_meta.reward_type=="onlyhappyhours" && (offer.actions.reward.reward_meta.title && offer.actions.reward.reward_meta.conditions)) || (offer.actions.reward.reward_meta.reward_type=="combo" && (offer.actions.reward.reward_meta.items && offer.actions.reward.reward_meta._for)) || (offer.actions.reward.reward_meta.reward_type=="buffet" && (offer.actions.reward.reward_meta.title && offer.actions.reward.reward_meta.cost))'>
                  <div class='form-group'>
                    <label class='col-md-3 control-label'>Header <span class='glyphicon glyphicon-asterisk glyphicon-sm' ng-if='offer.actions.reward.reward_meta.reward_type=="custom"'></span></label>
                    <div class='col-md-6'>
                      <input type='text' ng-model='offer.actions.reward.header' class='form-control' ng-disabled='offer.actions.reward.reward_meta.reward_type!="custom"'>
                    </div>
                  </div>
                  <div class='form-group'>
                    <label class='col-md-3 control-label'>Line 1 <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
                    <div class='col-md-6'>
                      <input type='text' ng-model='offer.actions.reward.line1' class='form-control'>
                    </div>
                  </div>
                  <div class='form-group'>
                    <label class='col-md-3 control-label'>Line 2</label>
                    <div class='col-md-6'>
                      <input type='text' ng-model='offer.actions.reward.line2' class='form-control'>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class='form-group'>
              <label class='col-md-2 control-label'>Offer Description</label>
              <div class='col-md-6'>
                <textarea class='form-control' ng-model='offer.actions.reward.description' rows='3' style='resize:none;overflow:auto;'></textarea>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
      <div class='clearfix'></div>
      <button class='btn btn-primary' wz-next>Continue</button>
    </wz-step>
    <wz-step title='T&C' canexit='validateStep2'>
      <div class='well well-lg'>
        <form class='form-horizontal'>
          <fieldset>
            <legend>Terms & Conditions</legend>
            <div class='form-group' ng-if='offer.offer_type=="checkin" || offer.offer_type=="offer"'>
              <label class='col-md-2 control-label'>Minimum Bill <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <div class='input-group'>
                  <div class='input-group-addon'>Rs.</div>
                  <input type='number' class='form-control' ng-model='offer.minimum_bill_value'>
                </div>
              </div>
            </div>
            <div class='form-group'>
              <label class='col-md-2 control-label'>Applicable For <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <div class='btn-group'>
                  <label class='btn' ng-class='{"btn-primary": offer.actions.reward.applicability.dine_in, "btn-default": !offer.actions.reward.applicability.dine_in}'>
                    <input type='checkbox' autocomplete='off' ng-model='offer.actions.reward.applicability.dine_in'> Dine-In
                  </label>
                  <label class='btn' ng-class='{"btn-primary": offer.actions.reward.applicability.delivery, "btn-default": !offer.actions.reward.applicability.delivery}'>
                    <input type='checkbox' autocomplete='off' ng-model='offer.actions.reward.applicability.delivery'> Delivery
                  </label>
                </div>
              </div>
            </div>
            <div class='form-group' ng-if='offer.offer_type=="checkin"'>
              <label class='col-md-2 control-label'>Lapses in <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <div class='input-group'>
                  <input type='number' class='form-control' ng-model='offer.offer_lapse_days' min='1' steps='1'>
                  <div class='input-group-addon'> days.</div>
                </div>
              </div>
            </div>
            <div class='form-group' ng-if='offer.offer_type=="checkin"'>
              <label class='col-md-2 control-label'>Expires in <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <div class='input-group'>
                  <input type='number' class='form-control' min='{{offer.offer_lapse_days + 14}}' ng-model='offer.offer_valid_days'>
                  <div class='input-group-addon'> days.</div>
                </div>
              </div>
            </div>
            <div class='form-group' ng-if='offer.offer_type=="offer"'>
              <label class='col-md-2 control-label'>Offer Cost <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <input type='number' class='form-control' ng-model='offer.offer_cost' min='1' steps='1'>
                <span class='help-block'>Cost above is defined in Twyst Bucks</span>
              </div>
            </div>
            <div class='form-group' ng-if='offer.offer_type=="bank_deal"'>
              <label class='col-md-2 control-label'>Deal Source <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <select ng-model='offer.offer_source' class='form-control'>
                  <option value='hdfc'>HDFC Bank</option>
                  <option value='sbi'>State Bank Of India</option>
                  <option value='hsbc'>HSBC Bank</option>
                  <optoin value='citibank'>Citi Bank</option>
                </select>
              </div>
            </div>
            <div class='form-group'>
              <label class='col-md-2 control-label'>Offer Terms</label>
              <div class='col-md-6'>
                <textarea class='form-control' rows='6' style='resize:none;overflow:auto;' ng-model='offer.actions.reward.terms'></textarea>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
      <div class='well well-lg'>
        <form class='form-horizontal'>
          <fieldset>
            <legend>Validity</legend>
            <div class='form-group'>
              <label class='col-md-2 control-label'>Applicability <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-10'>
                <div class='form-group' ng-if='offer.offer_outlets.length'>
                  <label class='col-md-3 control-label'>Clone Outlet Timings</label>
                  <div class='col-md-9'>
                    <select ng-model='tempOutlet._id' class='form-control' ng-change='cloneTimings(tempOutlet)'>
                      <option value=''>Choose an Outlet To Clone From</option>
                      <option ng-repeat='outletId in offer.offer_outlets' value='{{outletId}}'>{{outlets[outletId].basics.name}}, {{outlets[outletId].contact.location.locality_1[0]}}, {{outlets[outletId].contact.location.locality_2[0]}}</option>
                    </select>
                  </div>
                </div>
                <div class='form-group table-responsive'>
                  <table class='table table-bordered table-condensed'>
                    <thead>
                      <th>Day</th>
                      <th>Is Closed?</th>
                      <th ng-repeat='i in getMaxRange() track by $index'>Timing {{$index+1}}</th>
                      <th>Add Timing</th>
                      <th>Apply to all days</th>
                    </thead>
                    <tbody>
                      <tr ng-repeat='(day, schedule) in offer.actions.reward.reward_hours'>
                        <th>{{day | uppercase}}</th>
                        <td><input type='checkbox' ng-model='schedule.closed' ng-change='updateTiming(day, offer.actions.reward.reward_hours)'></td>
                        <td ng-repeat='i in getMaxRange() track by $index'>
                          <div class='col-md-12' ng-if='schedule.timings.length && schedule.timings[$index]' ng-click='removeTiming(day, $index, offer.actions.reward.reward_hours)' ng-show='schedule.timings.length>1' ng-init='initalizeTiming(day, $index, offer.actions.reward.reward_hours)'>
                            <button class='btn btn-sm btn-danger pull-right' ><span class='glyphicon glyphicon-trash'></span></button>
                          </div>
                          <div class='col-md-12' ng-if='schedule.timings[$index]'>
                            <input type='time' ng-model='schedule.timings[$index].open.time' placeholder="HH:MM A/P" class='form-control' ng-change='updateTime(day, $index, offer.actions.reward.reward_hours)'>
                          </div>
                          <div class='col-md-12 text-center' ng-if='schedule.timings[$index]'> to </div>
                          <div class='col-md-12' ng-if='schedule.timings[$index]'>
                            <input type='time' ng-model='schedule.timings[$index].close.time' placeholder="HH:MM A/P" class='form-control' ng-change='updateTime(day, $index, offer.actions.reward.reward_hours)'>
                          </div>
                        </td>
                        <td><button class='btn btn-sm btn-default' ng-click='addNewTiming(day, offer.actions.reward.reward_hours)' ng-show='!schedule.closed'>Add Timing</button></td>
                        <td><button class='btn btn-sm btn-default' ng-click='cloneToAllDays(day, offer.actions.reward.reward_hours)'>Apply to all days</button></td>
                      </tr>
                      <td>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class='form-group'>
              <label class='col-md-2 control-label'>Start Date <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <datepicker ng-model="offer.offer_start_date" min-date="today" show-weeks="true" class="well well-sm"></datepicker>
              </div>
            </div>
            <div class='form-group'>
              <label class='col-md-2 control-label'>End Date <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-6'>
                <datepicker ng-model="offer.offer_end_date" min-date="offer.offer_start_date || today" show-weeks="true" class="well well-sm"></datepicker>
              </div>
            </div>
            <div class='form-group'>
              <label for='offer_outlets' class='col-md-2 control-label'>Outlets <span class='glyphicon glyphicon-asterisk glyphicon-sm'></span></label>
              <div class='col-md-9'>
                <ul class='list-group' ng-if='offer.offer_outlets.length'>
                  <li class='list-group-item' ng-repeat='outlet in offer.offer_outlets track by $index'>{{outlets[outlet].basics.name}}, {{outlets[outlet].contact.location.locality_1[0]}}, {{outlets[outlet].contact.location.locality_2[0]}}
                    <button class='btn btn-sm btn-danger pull-right' ng-click='removeOutlet($index)'><span class='glyphicon glyphicon-trash'></span></button>
                  </li>
                </ul>
                <div class='alert alert-warning' ng-if='!offer.offer_outlets.length'>
                  Start adding outlets below.
                </div>
              </div>
            </div>
            <div class='form-group'>
              <label for='add_outlet' class='col-md-2 control-label'>
                <span ng-if='!offer.offer_outlets.length'>Add an Outlet</span>
                <span ng-if='offer.offer_outlets.length'>Add another Outlet</span>
              </label>
              <div class='col-md-6'>
                <input class='form-control' ng-model='newOutlet' ng-list placeholder='{{offer.offer_outlets.length? "Add another outlet...": "Add your first outlet"}}' typeahead="outlet._id as (outlet.basics.name + ', ' + outlet.contact.location.locality_1[0] + ', ' + outlet.contact.location.locality_2[0]) for outlet in filterOutlets($viewValue)" typeahead-on-select="addOutlet(newOutlet)"/>
              </div>
            </div>
            <div class='clearfix'></div>
            <button class='btn btn-default' wz-previous>Go Back</button>
            <button class='btn btn-primary' wz-next>Review</button>
          </fieldset>
        </form>
      </div>
    </wz-step>
    <wz-step title='Review'>
      <div class='well well-lg'>
        <form class='form-horizontal'>
          <legend>Review</legend>
          <div class='clearfix'></div>
          <button class='btn btn-default' ng-click='backToStart()'>Back to First Step</button>
          <button class='btn btn-primary' wz-next>Create Offer</button>
        </form>
      </div>
    </wz-step>
  </wizard>
</div>